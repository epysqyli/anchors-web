import{u as m,R as p,b as r,o as f,T as h,O as v,c as s,l as E,U as g,S as y}from"./entry-client-70f5ea60.js";import{E as b}from"./EventWrapper-00d7d2f9.js";import"./index-c5d10f7a.js";import"./open-library-64fefcf2.js";const M=()=>{const{relay:t}=m(p),[n,c]=r([]),[i,o]=r(!1);return f(async()=>{o(!0);const l=h(),e=await t.fetchTextEvents({rootOnly:!0,isAnchorsMode:!1,filter:{ids:[l.id]},fetchRepostEvents:!0}),u=await t.fetchEventsMetadata({authors:e.map(a=>a.pubkey)}),d=await t.fetchEventsReactions([{kinds:[v.Reaction],"#e":e.map(a=>a.id)}]);c(t.buildEnrichedEvents(e,u,d)),o(!1)}),s(y,{get when(){return E(()=>!i())()&&n().length>0},get fallback(){return s(g,{})},get children(){return s(b,{get event(){return n()[0]}})}})};export{M as default};
